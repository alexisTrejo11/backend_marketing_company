# ============================================================================
# MARKETING ASSET - Asset management and performance tracking
# ============================================================================

"""
Type of marketing asset.
"""
enum AssetType {
    """Image asset (JPG, PNG, etc.)"""
    IMAGE

    """Video asset (MP4, AVI, etc.)"""
    VIDEO

    """PDF document"""
    PDF

    """Infographic"""
    INFOGRAPHIC

    """Presentation (PPT, etc.)"""
    PRESENTATION

    """Whitepaper document"""
    WHITEPAPER

    """Case study"""
    CASE_STUDY

    """Webinar recording"""
    WEBINAR

    """E-book"""
    EBOOK

    """Other type"""
    OTHER
}

"""
Status of the marketing asset.
"""
enum AssetStatus {
    """Asset is in draft state"""
    DRAFT

    """Asset is active and in use"""
    ACTIVE

    """Asset is archived"""
    ARCHIVED

    """Asset is marked for deletion"""
    DELETED
}

"""
Asset file information.
"""
type AssetFileInfo {
    """File size in KB"""
    fileSizeKb: Int

    """MIME type"""
    mimeType: String

    """File format/extension"""
    format: String

    """Readable file size (e.g., "1.5 MB")"""
    readableSize: String
}

"""
Asset performance metrics.
"""
type AssetPerformance {
    """Number of views"""
    viewsCount: Int!

    """Number of clicks"""
    clicksCount: Int!

    """Number of conversions"""
    conversionsCount: Int!

    """Conversion rate percentage"""
    conversionRate: Float!

    """Click-through rate"""
    clickThroughRate: Float!

    """Is high performing asset"""
    isHighPerforming: Boolean!
}

"""
Complete marketing asset representation.
"""
type AssetOutput {
    """Asset ID"""
    id: ID!

    """Campaign ID"""
    campaignId: ID!

    """Asset type"""
    assetType: AssetType!

    """Asset name"""
    name: String!

    """Asset description"""
    description: String

    """Asset URL"""
    url: String!

    """Asset version"""
    version: String

    """File information"""
    fileInfo: AssetFileInfo

    """Performance metrics"""
    performance: AssetPerformance!

    """Asset status"""
    status: AssetStatus!

    """Is this a primary asset"""
    isPrimaryAsset: Boolean!

    """Creation date"""
    createdAt: String!

    """Last update date"""
    updatedAt: String!
}

"""
Asset type breakdown statistics.
"""
type AssetTypeBreakdown {
    """Number of image assets"""
    images: Int!

    """Number of video assets"""
    videos: Int!

    """Number of PDF assets"""
    pdfs: Int!

    """Number of infographic assets"""
    infographics: Int!

    """Number of presentation assets"""
    presentations: Int!

    """Number of whitepaper assets"""
    whitepapers: Int!

    """Number of case study assets"""
    caseStudies: Int!

    """Number of webinar assets"""
    webinars: Int!

    """Number of ebook assets"""
    ebooks: Int!

    """Number of other type assets"""
    others: Int!
}

"""
Performance metrics for an asset.
"""
type PerformanceMetrics {
    """Asset ID"""
    assetId: ID!

    """Asset name"""
    assetName: String!

    """Total views"""
    views: Int!

    """Total clicks"""
    clicks: Int!

    """Total conversions"""
    conversions: Int!

    """Conversion rate"""
    conversionRate: Float!
}

"""
Top performing assets.
"""
type TopPerformingAssets {
    """Top assets by views"""
    byViews: [PerformanceMetrics!]!

    """Top assets by clicks"""
    byClicks: [PerformanceMetrics!]!

    """Top assets by conversions"""
    byConversions: [PerformanceMetrics!]!
}

"""
Marketing asset statistics for a campaign.
"""
type AssetStatisticsOutput {
    """Campaign ID"""
    campaignId: ID!

    """Campaign name"""
    campaignName: String

    """Total number of assets"""
    totalAssets: Int!

    """Number of active assets"""
    activeAssets: Int!

    """Number of archived assets"""
    archivedAssets: Int!

    """Number of primary assets"""
    primaryAssets: Int!

    """Total views across all assets"""
    totalViews: Int!

    """Total clicks across all assets"""
    totalClicks: Int!

    """Total conversions across all assets"""
    totalConversions: Int!

    """Average conversion rate"""
    averageConversionRate: Float!

    """Overall click-through rate"""
    overallClickThroughRate: Float!

    """Breakdown by asset type"""
    typeBreakdown: AssetTypeBreakdown!

    """Top performing assets"""
    topPerformingAssets: TopPerformingAssets!
}

"""
Paginated asset response.
"""
type AssetPage implements PageResponse {
    """List of assets"""
    items: [AssetOutput!]!

    """Pagination metadata"""
    pagination: PaginationMetadata!
}

"""
Input to create a marketing asset.
"""
input CreateAssetInput {
    """Campaign ID"""
    campaignId: ID!

    """Asset type"""
    assetType: AssetType!

    """Asset name"""
    name: String!

    """Asset description"""
    description: String

    """Asset URL"""
    url: String!

    """Asset version"""
    version: String

    """File size in KB"""
    fileSizeKb: Int

    """MIME type"""
    mimeType: String
}

"""
Input to update a marketing asset.
"""
input UpdateAssetInput {
    """Asset ID"""
    id: ID!

    """Asset type"""
    assetType: AssetType

    """Asset name"""
    name: String

    """Asset description"""
    description: String

    """Asset URL"""
    url: String

    """Asset version"""
    version: String

    """File size in KB"""
    fileSizeKb: Int

    """MIME type"""
    mimeType: String
}

"""
Input to update asset performance metrics.
"""
input UpdateAssetPerformanceInput {
    """Asset ID"""
    assetId: ID!

    """Views count"""
    viewsCount: Int

    """Clicks count"""
    clicksCount: Int

    """Conversions count"""
    conversionsCount: Int
}

"""
Marketing asset filter options.
"""
input AssetFilterInput {
    """Filter by campaign ID"""
    campaignId: ID

    """Filter by asset types"""
    assetTypes: [AssetType!]

    """Filter by statuses"""
    statuses: [AssetStatus!]

    """Filter by primary asset status"""
    isPrimaryAsset: Boolean

    """Filter by minimum views count"""
    minViewsCount: Int

    """Filter by maximum views count"""
    maxViewsCount: Int

    """Filter by minimum clicks count"""
    minClicksCount: Int

    """Filter by maximum clicks count"""
    maxClicksCount: Int

    """Filter by minimum conversion rate"""
    minConversionRate: Float

    """Filter by maximum conversion rate"""
    maxConversionRate: Float

    """Search term"""
    searchTerm: String
}

# ============================================================================
# QUERIES
# ============================================================================

extend type Query {
    """
    Get a marketing asset by ID.
    """
    asset(id: ID!): AssetOutput

    """
    Search marketing assets with filters.
    """
    searchAssets(
        """Filter options"""
        filter: AssetFilterInput

        """Pagination parameters"""
        pageInput: PageInput!
    ): AssetPage!

    """
    Get assets by campaign.
    """
    assetsByCampaign(
        """Campaign ID"""
        campaignId: ID!

        """Pagination parameters"""
        pageInput: PageInput!
    ): AssetPage!

    """
    Get assets by campaign and type.
    """
    assetsByCampaignAndType(
        """Campaign ID"""
        campaignId: ID!

        """Asset type"""
        assetType: AssetType!

        """Pagination parameters"""
        pageInput: PageInput!
    ): AssetPage!

    """
    Get assets by status.
    """
    assetsByStatus(
        """Asset status"""
        status: AssetStatus!

        """Pagination parameters"""
        pageInput: PageInput!
    ): AssetPage!

    """
    Get primary assets by campaign.
    """
    primaryAssetsByCampaign(
        """Campaign ID"""
        campaignId: ID!

        """Pagination parameters"""
        pageInput: PageInput!
    ): AssetPage!

    """
    Get asset statistics for a campaign.
    """
    assetStatistics(campaignId: ID!): AssetStatisticsOutput!

    """
    Get total assets count for a campaign.
    """
    totalAssetsByCampaign(campaignId: ID!): Int!

    """
    Get total clicks for a campaign's assets.
    """
    totalClicksByCampaign(campaignId: ID!): Int!

    """
    Get average conversion rate for a campaign's assets.
    """
    averageConversionRateByCampaign(campaignId: ID!): Float!
}

# ============================================================================
# MUTATIONS
# ============================================================================

extend type Mutation {
    """
    Create a new marketing asset.
    """
    createAsset(input: CreateAssetInput!): AssetOutput!

    """
    Update a marketing asset.
    """
    updateAsset(input: UpdateAssetInput!): AssetOutput!

    """
    Update asset performance metrics.
    """
    updateAssetPerformance(input: UpdateAssetPerformanceInput!): AssetOutput!

    """
    Mark an asset as primary.
    """
    markAssetAsPrimary(id: ID!): AssetOutput!

    """
    Activate an asset.
    """
    activateAsset(id: ID!): AssetOutput!

    """
    Archive an asset.
    """
    archiveAsset(id: ID!): AssetOutput!

    """
    Delete an asset.
    """
    deleteAsset(id: ID!): Boolean!
}